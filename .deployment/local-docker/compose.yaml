version: "3.8"
services:
  rabbitmq:
    image: rabbitmq
    expose:
      - 5672
  pp-pairing-front:
    image: peerprep/pairing-front
    build:
      context: ../../backend/services/pairing/pairing-front
      dockerfile: Dockerfile
    environment:
      - RABBITMQ_URL=amqp://rabbitmq:5672
      - PORT=3000
    ports:
      - 3000:3000
  pp-pairing-back:
    image: peerprep/pairing-back
    build:
      context: ../../backend/services/pairing/pairing-back
      dockerfile: Dockerfile
    environment:
      - RABBITMQ_URL=amqp://rabbitmq:5672
      - MATCHMAKING_MAX_WAIT_SECONDS=100
# Names our volume
volumes:
  my-db:
